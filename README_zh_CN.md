# ä¸€ä¸ªMCPæœåŠ¡ç«¯æ’ä»¶

> ä¸º[æ€æºç¬”è®°](https://github.com/siyuan-note/siyuan)æä¾›MCPæœåŠ¡çš„æ’ä»¶ã€‚

> å½“å‰ç‰ˆæœ¬: v0.2.0 æ­¤ç‰ˆæœ¬åŒ…å«APIæ›´æ”¹
>
> æ”¹è¿›ï¼šå¼ƒç”¨SSEè¿æ¥æ–¹å¼ï¼Œæ¢ç”¨Streamable HTTPï¼Œå¯¹åº”æœ‰ç«¯ç‚¹æ›´æ”¹ï¼Œè¯·å‚è€ƒæ–‡æ¡£é‡æ–°è®¾ç½®ï¼›
>
> å…¶ä»–è¯¦è§[æ›´æ–°æ—¥å¿—](./CHANGELOG.md)ã€‚

## âœ¨å¿«é€Ÿå¼€å§‹

- ä»é›†å¸‚ä¸‹è½½ æˆ– 1ã€è§£å‹Releaseä¸­çš„`package.zip`ï¼Œ2ã€å°†æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°`å·¥ä½œç©ºé—´/data/plugins/`ï¼Œ3ã€å¹¶å°†æ–‡ä»¶å¤¹é‡å‘½åä¸º`syplugin-anMCPServer`;
- å¼€å¯æ’ä»¶ï¼›
- æ‰“å¼€æ’ä»¶è®¾ç½®ï¼Œå¯åŠ¨æœåŠ¡ï¼›
- æ’ä»¶é»˜è®¤ç›‘å¬`16806`ç«¯å£ï¼ˆHost: `127.0.0.1`ï¼‰ï¼Œè¯·ä½¿ç”¨`http://127.0.0.1:16806/mcp`ä½œä¸ºæœåŠ¡ç«¯è®¿é—®åœ°å€ï¼›

> â­ å¦‚æœè¿™å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç‚¹äº®Starï¼

## ğŸ”§æ”¯æŒçš„å·¥å…·

- ã€æ£€ç´¢ã€‘
  - ä½¿ç”¨å…³é”®è¯æœç´¢ï¼›
  - ä½¿ç”¨SQLæœç´¢ï¼›
- ã€è·å–ã€‘
  - é€šè¿‡idè·å–æ–‡æ¡£kramdownï¼›
  - åˆ—å‡ºç¬”è®°æœ¬ï¼›
- ã€å†™å…¥ã€‘
  - å‘æ—¥è®°è¿½åŠ å†…å®¹ï¼›
  - é€šè¿‡idå‘æŒ‡å®šæ–‡æ¡£è¿½åŠ å†…å®¹ï¼›

## â“å¯èƒ½å¸¸è§çš„é—®é¢˜

- Q: å¦‚ä½•åœ¨MCPå®¢æˆ·ç«¯ä¸­ä½¿ç”¨ï¼Ÿ
  è¯·å‚è€ƒåæ–‡ï¼›
- Q: å¸¸è§çš„MCPå®¢æˆ·ç«¯æœ‰å“ªäº›ï¼Ÿ
  - è¯·å‚è€ƒï¼šhttps://github.com/punkpeye/awesome-mcp-clients æˆ– https://modelcontextprotocol.io/clients ï¼›
- Qï¼šæ’ä»¶æ”¯æŒé‰´æƒå—ï¼Ÿ
  - v0.2.0ç‰ˆæœ¬å·²æ”¯æŒé‰´æƒï¼Œåœ¨æ’ä»¶è®¾ç½®å¤„è®¾ç½®é‰´æƒtokenåï¼Œåœ¨MCPå®¢æˆ·ç«¯ï¼Œéœ€è¦è®¾ç½®`authorization`è¯·æ±‚å¤´ï¼Œå…¶å€¼ä¸º `Bearer ä½ çš„Token`ï¼›
- Q: å¯ä»¥åœ¨dockerä½¿ç”¨å—ï¼Ÿ
  - ä¸å¯ä»¥ï¼Œæ’ä»¶ä¾èµ–nodejsç¯å¢ƒï¼Œä¸æ”¯æŒåœ¨ç§»åŠ¨ç«¯ã€dockerè¿è¡Œï¼›
  
    > è‹¥è¦æ”¯æŒdockerä¸­éƒ¨ç½²çš„æ€æºï¼Œæ’ä»¶éœ€è¦åƒ`mcp-obsidian`ä¸€æ ·åŸºäºpythonæ„å»ºã€é€šè¿‡APIè®¿é—®æ€æºå†…å®¹ï¼›
    > 
    > æˆ–è€…å°†æœ¬æ’ä»¶å’Œæ€æºå‰ç«¯è§£è€¦ï¼›

## å¦‚ä½•åœ¨MCPå®¢æˆ·ç«¯ä¸­é…ç½®ï¼Ÿ

> é’ˆå¯¹ä¸åŒçš„MCPå®¢æˆ·ç«¯ï¼Œéœ€è¦ä¸åŒçš„é…ç½®æ–¹å¼ï¼Œè¯·ä»¥MCPå®¢æˆ·ç«¯æ–‡æ¡£ä¸ºå‡†ï¼›
> 
> MCPå®¢æˆ·ç«¯ä¸æ–­è¿­ä»£æ›´æ–°ï¼Œè¿™é‡Œçš„é…ç½®æˆ–ä½¿ç”¨è¯´æ˜æœªå¿…èƒ½å¤Ÿç›´æ¥å¥—ç”¨ï¼Œä»…ä¾›å‚è€ƒï¼›
>
> è¿™é‡Œå‡è®¾ï¼šæ’ä»¶è®¾ç½®çš„ç«¯å£å·ä¸º`16806`ï¼Œæƒé™æ§åˆ¶è®¤è¯ç ä¸º `abcdefg`ã€‚

ä¿®æ”¹MCPåº”ç”¨çš„é…ç½®ï¼Œé€‰æ‹©`Streamable HTTP`ç±»å‹ï¼Œå¹¶é…ç½®ç«¯ç‚¹ã€‚

### ä¸€èˆ¬åœ°

ä¸‹é¢çš„é…ç½®ä»¥ [Cherry Studio](https://github.com/CherryHQ/cherry-studio) ä¸ºä¾‹ï¼Œé’ˆå¯¹ä¸åŒçš„MCPå®¢æˆ·ç«¯ï¼Œå¯èƒ½éœ€è¦ä¸åŒçš„é…ç½®æ ¼å¼ï¼Œè¯·ä»¥MCPå®¢æˆ·ç«¯æ–‡æ¡£ä¸ºå‡†ã€‚

**æ’ä»¶æœªè®¾ç½®è®¤è¯ç **

1. ç±»å‹ï¼šé€‰æ‹© å¯æµå¼ä¼ è¾“çš„HTTPï¼ˆstreamablehttpï¼‰
2. URLï¼š`http://127.0.0.1:16806/mcp`
3. è¯·æ±‚å¤´ï¼šç©º

**æ’ä»¶å·²è®¾ç½®è®¤è¯ç **

1. ç±»å‹ï¼šé€‰æ‹© å¯æµå¼ä¼ è¾“çš„HTTPï¼ˆstreamablehttpï¼‰
2. URLï¼š`http://127.0.0.1:16806/mcp`
3. è¯·æ±‚å¤´ï¼š`Authorization=Bearer abcedfg`

### ä»…æ”¯æŒstdioçš„MCPå®¢æˆ·ç«¯

è‹¥MCPå®¢æˆ·ç«¯ä¸æ”¯æŒåŸºäºHTTPçš„é€šä¿¡æ–¹å¼ï¼Œä»…æ”¯æŒstdioï¼Œåˆ™éœ€è¦é€šè¿‡è½¬æ¢åä½¿ç”¨ã€‚

è¿™é‡Œä½¿ç”¨`node.js` + `mcp-remote@next`çš„æ–¹æ¡ˆã€‚

1. ä¸‹è½½nodejs https://nodejs.org/zh-cn/download

2. å®‰è£…mcp-remote@next
  ```bash
  npm install -g mcp-remote@next
  ```

ä¸‹é¢çš„é…ç½®ä»¥ [5ire](https://5ire.app/) ä¸ºä¾‹ï¼Œé’ˆå¯¹ä¸åŒçš„MCPå®¢æˆ·ç«¯ï¼Œå¯èƒ½éœ€è¦ä¸åŒçš„é…ç½®æ ¼å¼ï¼Œè¯·ä»¥MCPå®¢æˆ·ç«¯æ–‡æ¡£ä¸ºå‡†

**æ’ä»¶æœªè®¾ç½®è®¤è¯ç **

å‘½ä»¤ï¼š

```
npx mcp-remote@next http://127.0.0.1:16806/mcp
```

**æ’ä»¶å·²è®¾ç½®è®¤è¯ç **

å‘½ä»¤ï¼š
```
npx mcp-remote@next http://127.0.0.1:16806/mcp --header Authorization:${AUTH_HEADER}
```

ç¯å¢ƒå˜é‡ï¼š

åç§°ï¼š`AUTH_HEADER`
å€¼ï¼š`Bearer abcdefg`

## ğŸ™å‚è€ƒ&æ„Ÿè°¢

> éƒ¨åˆ†ä¾èµ–é¡¹åœ¨`package.json`ä¸­åˆ—å‡ºã€‚

| å¼€å‘è€…/é¡¹ç›®                                                         | é¡¹ç›®æè¿°           | å¼•ç”¨æ–¹å¼         |
|---------------------------------------------------------------------|----------------|--------------|
| [thuanpham582002/tabby-mcp-server](https://github.com/thuanpham582002/tabby-mcp-server) | åœ¨ç»ˆç«¯è½¯ä»¶Tabbyä¸­æä¾›MCPæœåŠ¡ï¼› MIT License | MCPæœåŠ¡å®ç°æ–¹å¼ |